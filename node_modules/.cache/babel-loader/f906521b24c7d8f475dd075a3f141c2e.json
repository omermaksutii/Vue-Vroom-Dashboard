{"remainingRequest":"C:\\laragon\\www\\Vue-Vroom-Dashboard\\node_modules\\thread-loader\\dist\\cjs.js!C:\\laragon\\www\\Vue-Vroom-Dashboard\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\Vue-Vroom-Dashboard\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\laragon\\www\\Vue-Vroom-Dashboard\\src\\utils\\http-axios.js","dependencies":[{"path":"C:\\laragon\\www\\Vue-Vroom-Dashboard\\src\\utils\\http-axios.js","mtime":1644398804695},{"path":"C:\\laragon\\www\\Vue-Vroom-Dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\Vue-Vroom-Dashboard\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\Vue-Vroom-Dashboard\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\laragon\\www\\Vue-Vroom-Dashboard\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vIEltcG9ydAppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IGFwcENvbmZpZyB9IGZyb20gJ0AvY29uZmlnL2FwcCc7CmltcG9ydCB7IHNob3dOb3RpZmljYXRpb24gfSBmcm9tICdAL3V0aWxzL3Nob3ctbm90aWZpY2F0aW9uJzsgLy8gQ3JlYXRlCgp2YXIgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogYXBwQ29uZmlnLkJBQ0tFTkRfVVJMCn0pOyAvLyBUb2tlbgoKaWYgKHN0b3JlLmdldHRlcnMuZ2V0TG9nZ2VkVXNlcikgewogIHNlcnZpY2UuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHN0b3JlLmdldHRlcnMuZ2V0TG9nZ2VkVXNlci5hY2Nlc3NfdG9rZW47Cn0gLy8gUmVxdWVzdCBJbnRlcmNlcHRvcgoKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBzdG9yZS5kaXNwYXRjaCgnZGlzcGxheUxvYWRlcicsIHRydWUpOwogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHN0b3JlLmRpc3BhdGNoKCdkaXNwbGF5TG9hZGVyJywgZmFsc2UpOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyBSZXNwb25zZSBJbnRlcmNlcHRvcgoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHN0b3JlLmRpc3BhdGNoKCdkaXNwbGF5TG9hZGVyJywgZmFsc2UpOwogIHJldHVybiByZXNwb25zZTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgc3RvcmUuZGlzcGF0Y2goJ2Rpc3BsYXlMb2FkZXInLCBmYWxzZSk7CiAgdmFyIGVycm9ycyA9IGVycm9yOwoKICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgIC8vIFNlc3Npb24gRXhwaXJlZAogICAgaWYgKDQwMSA9PT0gZXJyb3IucmVzcG9uc2Uuc3RhdHVzKSB7CiAgICAgIGVycm9ycyA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ2xvZ091dCcpOwogICAgfSAvLyBFcnJvcnMgZnJvbSBiYWNrZW5kCgoKICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDIyKSB7CiAgICAgIGVycm9ycyA9ICcnOwoKICAgICAgZm9yICh2YXIgZXJyb3JLZXkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMpIHsKICAgICAgICBlcnJvcnMgKz0gJ1xuJzsKICAgICAgICBlcnJvcnMgKz0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnNbZXJyb3JLZXldLmRldGFpbCArICc8YnI+JzsKICAgICAgfQogICAgfSAvLyBCYWNrZW5kIGVycm9yCgoKICAgIGlmICg1MDAgPT09IGVycm9yLnJlc3BvbnNlLnN0YXR1cykgewogICAgICBlcnJvcnMgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICB9IC8vIFNlcnZlciBkb3duCgoKICAgIGlmICg1MDMgPT09IGVycm9yLnJlc3BvbnNlLnN0YXR1cykgewogICAgICBlcnJvcnMgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICB9IC8vIDQwNAoKCiAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwNCkgewogICAgICBlcnJvcnMgPSAnUGFnZSBub3QgZm91bmQhJzsKICAgIH0KICB9IC8vIGNvbnNvbGUubG9nKCkKCgogIHNob3dOb3RpZmljYXRpb24oewogICAgbWVzc2FnZTogU3RyaW5nKGVycm9ycyksCiAgICB0eXBlOiAnd2FybmluZycKICB9KTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy8gRXhwb3J0IGF4aW9zCgpleHBvcnQgZGVmYXVsdCBzZXJ2aWNlOw=="},{"version":3,"sources":["C:/laragon/www/Vue-Vroom-Dashboard/src/utils/http-axios.js"],"names":["axios","store","appConfig","showNotification","service","create","baseURL","BACKEND_URL","getters","getLoggedUser","defaults","headers","common","access_token","interceptors","request","use","config","dispatch","error","Promise","reject","response","errors","status","data","message","errorKey","detail","String","type"],"mappings":"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","sourcesContent":["// Import\r\nimport axios from 'axios';\r\nimport store from '@/store';\r\nimport { appConfig } from '@/config/app';\r\nimport { showNotification } from '@/utils/show-notification';\r\n\r\n// Create\r\nconst service = axios.create({\r\n  baseURL: appConfig.BACKEND_URL,\r\n});\r\n\r\n// Token\r\nif (store.getters.getLoggedUser) {\r\n  service.defaults.headers.common['Authorization'] = 'Bearer ' + store.getters.getLoggedUser.access_token;\r\n}\r\n\r\n// Request Interceptor\r\nservice.interceptors.request.use(\r\n  (config) => {\r\n    store.dispatch('displayLoader', true);\r\n\r\n    return config;\r\n  },\r\n  (error) => {\r\n    store.dispatch('displayLoader', false);\r\n\r\n    return Promise.reject(error);\r\n  },\r\n);\r\n\r\n// Response Interceptor\r\nservice.interceptors.response.use(\r\n  (response) => {\r\n    store.dispatch('displayLoader', false);\r\n\r\n    return response;\r\n  },\r\n  (error) => {\r\n    store.dispatch('displayLoader', false);\r\n\r\n    var errors = error;\r\n\r\n    if (error.response) {\r\n      // Session Expired\r\n      if (401 === error.response.status) {\r\n        errors = error.response.data.message;\r\n        store.dispatch('logOut');\r\n      }\r\n\r\n      // Errors from backend\r\n      if (error.response.status == 422) {\r\n        errors = '';\r\n        for (var errorKey in error.response.data.errors) {\r\n          errors += '\\n';\r\n          errors += error.response.data.errors[errorKey].detail + '<br>';\r\n        }\r\n      }\r\n\r\n      // Backend error\r\n      if (500 === error.response.status) {\r\n        errors = error.response.data.message;\r\n      }\r\n\r\n      // Server down\r\n      if (503 === error.response.status) {\r\n        errors = error.response.data.message;\r\n      }\r\n\r\n      // 404\r\n      if (error.response.status == 404) {\r\n        errors = 'Page not found!';\r\n      }\r\n    }\r\n\r\n    // console.log()\r\n    showNotification({\r\n      message: String(errors),\r\n      type: 'warning',\r\n    });\r\n\r\n    return Promise.reject(error);\r\n  },\r\n);\r\n\r\n// Export axios\r\nexport default service;\r\n"]}]}